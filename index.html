<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Sarabun&display=swap" rel="stylesheet">
</head>

<body>
  <header class="header">
    <div class="header-content">
      <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="student icon" class="header-icon">
      <div>
        <h1 class="title">‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
        <p class="subtitle">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏•‡∏ß‡∏±‡∏î‡∏´‡∏ô‡∏≠‡∏á‡∏Ç‡∏∏‡∏ô‡∏ä‡∏≤‡∏ï‡∏¥ (‡∏≠‡∏∏‡∏ó‡∏¥‡∏®‡∏û‡∏¥‡∏ó‡∏¢‡∏≤‡∏Ñ‡∏≤‡∏£)</p>
      </div>
    </div>
    <nav class="menu">
      <button class="active">üë§ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      <button>üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
      <button>üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</button>
    </nav>
  </header>
  <div class="container">
    <h2>üìò ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>

    <form id="studentForm">
      <!-- üë©üèª‚Äçüíª ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -->
      <div class="section-title">üë©üèª‚Äçüíª ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
      <div class="student-info">
        <div class="form-item"><label>‡∏ä‡∏∑‡πà‡∏≠ *</label><input name="firstName" required></div>
        <div class="form-item"><label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *</label><input name="lastName" required></div>
        <div class="form-item"><label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô *</label><input name="nickname" required></div>
        <div class="form-item"><label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô *</label>
          <select name="level" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô --</option>
            <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1</option>
            <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2</option>
            <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3</option>
          </select>
        </div>
        <div class="form-item"><label>‡∏´‡πâ‡∏≠‡∏á *</label><input name="room" required></div>
        <div class="form-item"><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á *</label><input name="parentPhone" required></div>
      </div>

      <div class="address-row">
        <div class="form-item full">
          <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà *</label>
          <textarea name="address" rows="3" required></textarea>
        </div>
      </div>

      <!-- üöó ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á -->
      <div class="section-title">üöó ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</div>
      <div class="travel-info">
        <div class="form-item full">
          <label>‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÇ‡∏î‡∏¢ *</label>
          <select name="transport" required>
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á --</option>
            <option>‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</option>
            <option>‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå</option>
            <option>‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
            <option>‡∏£‡∏ñ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ó‡∏≤‡∏á</option>
            <option>‡πÄ‡∏î‡∏¥‡∏ô</option>
            <option>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
          </select>
        </div>
      </div>

      <!-- üëØ‚Äç‚ôÄÔ∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏ô‡∏¥‡∏ó -->
      <div class="section-title">üëØ‚Äç‚ôÄÔ∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏ô‡∏¥‡∏ó</div>
      <div class="student-info">
        <div class="form-item"><label>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏ô‡∏¥‡∏ó</label><input name="friendName"></div>
        <div class="form-item"><label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label><input name="friendNickname"></div>
        <div class="form-item"><label>‡∏´‡πâ‡∏≠‡∏á</label><input name="friendRoom"></div>
        <div class="form-item"><label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</label>
          <select name="friendLevel">
            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô --</option>
            <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 1</option>
            <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2</option>
            <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3</option>
          </select>
        </div>
      </div>

      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å -->
      <div class="buttons">
        <button type="submit" class="save-btn">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button type="reset" class="cancel-btn">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      </div>
    </form>
  </div>

  <script>
    document.getElementById("studentForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const formData = new FormData(this);
      const student = {};
      formData.forEach((value, key) => student[key] = value);
      student.id = Date.now().toString(); // unique ID
      student.createdAt = new Date().toISOString();
      // student.updatedAt = new Date().toISOString();
      // student.status = "active"; // default status
      const gs_url = "https://script.google.com/macros/s/AKfycbzUPqjYEy_zLw2fufmPSbvy0xU_EwzSM13x1bCEJQFQneEHY2UK6tN9MZ0erfMPeW-m/exec"
      fetch(gs_url, {
          method: "POST",
          body: JSON.stringify({
            action: "add",
            student: student,
          }),
          headers: {
            "Content-Type": "application/json"
          }
        })
        .then(res => res.json())
        .then(data => {
          if (data.result === "success") {
            alert("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
            this.reset();
          } else {
            alert("‚ùå Error: " + data.message);
          }
        })
        .catch(err => {
          alert("‚ùå Network Error");
          console.error(err);
        });
    });
    document.querySelector(".cancel-btn").addEventListener("click", function() {
      if (confirm("‚ùå ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å?")) {
        document.getElementById("studentForm").reset();
      }
    });
    document.querySelector(".active").addEventListener("click", function() {
      alert("üë§ ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô");
    });
    document.querySelector(".menu button:nth-child(2)").addEventListener("click", function() {
      window.location.href = "list.html"; // Redirect to list page
    });
    document.querySelector(".menu button:nth-child(3)").addEventListener("click", function() {
      window.location.href = "statistics.html"; // Redirect to statistics page
    });
  </script>

</body>

</html>